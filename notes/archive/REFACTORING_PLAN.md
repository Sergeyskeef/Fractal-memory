# üîÑ Fractal Memory v2.0 ‚Äî –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–í–µ—Ä—Å–∏—è**: 2.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-12-03  
**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞**: –≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (20 –ª–µ—Ç –æ–ø—ã—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

---

## üìã –û–±–∑–æ—Ä

–ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏. –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

- ‚úÖ **Graphiti –æ—Å—Ç–∞—ë—Ç—Å—è** ‚Äî –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è L2/L3)
- ‚úÖ **Streamlit —É–¥–∞–ª—è–µ—Ç—Å—è** ‚Äî –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ FastAPI + CLI
- ‚úÖ **Redis Streams** ‚Äî –≤–º–µ—Å—Ç–æ LIST + KEYS
- ‚úÖ **ReasoningBank –Ω–∞ —É–∑–ª–∞—Ö Neo4j** ‚Äî –Ω–µ –ø–∞—Ä—Å–∏–º JSON –∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ **gpt-5-nano** ‚Äî –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- ‚úÖ **–û–¥–∏–Ω event loop** ‚Äî FastAPI —Ä–µ—à–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã async

---

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

| –ê—Å–ø–µ–∫—Ç | –†–µ—à–µ–Ω–∏–µ | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|--------|---------|-------------|
| **Graphiti** | –û—Å—Ç–∞–≤–ª—è–µ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ | –£–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω, –¥–µ–ª–∞–µ—Ç –Ω—É–∂–Ω—É—é —Ä–∞–±–æ—Ç—É |
| **Streamlit** | –£–±–∏—Ä–∞–µ–º, –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ FastAPI + CLI | Event loop –ø—Ä–æ–±–ª–µ–º—ã |
| **Redis** | Streams + SCAN, —Å—Ç—Ä–æ–≥–∏–µ TTL | –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å |
| **Vector Store** | Neo4j –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π (—á–µ—Ä–µ–∑ Graphiti) | –ù–µ –ø–ª–æ–¥–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| **ReasoningBank** | –û—Ç–¥–µ–ª—å–Ω—ã–µ —É–∑–ª—ã Strategy –≤ Neo4j | –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å |
| **–ú–æ–¥–µ–ª—å** | gpt-5-nano | –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |
| **Kafka/Milvus** | –ù–µ –Ω—É–∂–Ω–æ | –û–≤–µ—Ä–∫–∏–ª–ª –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

---

## üìÖ –§–∞–∑—ã —Ä–∞–±–æ—Ç—ã

### –§–ê–ó–ê 0: –ê–£–î–ò–¢ –ò –û–ß–ò–°–¢–ö–ê (1-2 –¥–Ω—è)

**–¶–µ–ª—å**: –í—ã—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –ø–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ.

#### –ó–∞–¥–∞—á–∞ 0.1: –ê–Ω–∞–ª–∏–∑ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞

**–§–∞–π–ª—ã –Ω–∞ –£–î–ê–õ–ï–ù–ò–ï** (–ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è):

```
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã:
src/core/graphiti_adapter.py  # –ó–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ graphiti_store.py
src/ui/                       # –í–µ—Å—å Streamlit UI
streamlit_app/                # Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
src/core/async_runner.py      # –ö–æ—Å—Ç—ã–ª—å –¥–ª—è event loop ‚Äî –Ω–µ –Ω—É–∂–µ–Ω —Å FastAPI

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å:
docs/                         # –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
*.md –≤ –∫–æ—Ä–Ω–µ                  # README, ARCHITECTURE ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
```

**–î–µ–π—Å—Ç–≤–∏—è**:
1. `git status` ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ —Å–ø–∏—Å–∫–∞:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã: `grep -r "from src.ui" .` –∏ —Ç.–¥.
   - –ï—Å–ª–∏ –Ω–∏–≥–¥–µ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è ‚Üí —É–¥–∞–ª–∏—Ç—å
   - –ï—Å–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è ‚Üí –ø–æ–º–µ—Ç–∏—Ç—å –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
3. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ pyproject.toml:
   - streamlit
   - nest_asyncio (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**: –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, —Ç–µ—Å—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å) –ø—Ä–æ—Ö–æ–¥—è—Ç.

---

### –§–ê–ó–ê 1: –ù–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (3-5 –¥–Ω–µ–π)

#### –ó–∞–¥–∞—á–∞ 1.1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```
fractal_memory/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # FastAPI app
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # Pydantic Settings
‚îÇ   ‚îî‚îÄ‚îÄ routers/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ chat.py          # POST /chat
‚îÇ       ‚îú‚îÄ‚îÄ memory.py        # GET/POST /memory/*
‚îÇ       ‚îî‚îÄ‚îÄ health.py        # GET /health
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ agent.py             # FractalAgent (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π)
‚îÇ   ‚îî‚îÄ‚îÄ core/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ graphiti_store.py    # –ù–û–í–´–ô: –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Graphiti
‚îÇ       ‚îú‚îÄ‚îÄ redis_store.py       # –ù–û–í–´–ô: Redis Streams –¥–ª—è L0/L1
‚îÇ       ‚îú‚îÄ‚îÄ memory.py            # –û–ë–ù–û–í–ò–¢–¨: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä L0-L3
‚îÇ       ‚îú‚îÄ‚îÄ consolidation.py     # –û–ë–ù–û–í–ò–¢–¨: idempotent –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ reasoning.py         # –ù–û–í–´–ô: ReasoningBank –Ω–∞ —É–∑–ª–∞—Ö Neo4j
‚îÇ       ‚îî‚îÄ‚îÄ retrieval.py         # –û–ë–ù–û–í–ò–¢–¨: —É–±—Ä–∞—Ç—å _neo4j_search fallback
‚îÇ
‚îú‚îÄ‚îÄ cli/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py              # Typer + Rich CLI
‚îÇ
‚îú‚îÄ‚îÄ worker/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py              # Background tasks
‚îÇ
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.backend
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile.worker
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ pyproject.toml
```

#### –ó–∞–¥–∞—á–∞ 1.2: GraphitiStore (–ü–†–ê–í–ò–õ–¨–ù–ê–Ø —Ä–∞–±–æ—Ç–∞ —Å Graphiti)

**–ö–ª—é—á–µ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: –í–°–Å –ø–∏—à–µ–º —á–µ—Ä–µ–∑ Graphiti API, –ù–ï —á–µ—Ä–µ–∑ Cypher –Ω–∞–ø—Ä—è–º—É—é!

Graphiti –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ (entities)
2. –°–æ–∑–¥–∞—ë—Ç embeddings
3. –°—Ç—Ä–æ–∏—Ç —Å–≤—è–∑–∏ (edges)
4. –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞

**–§–∞–π–ª**: `src/core/graphiti_store.py`

#### –ó–∞–¥–∞—á–∞ 1.3: RedisStore (Streams –¥–ª—è L0/L1)

**–ò—Å–ø–æ–ª—å–∑—É–µ–º**:
- XADD —Å MAXLEN –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ trim
- XREVRANGE –¥–ª—è —á—Ç–µ–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)
- SCAN –≤–º–µ—Å—Ç–æ KEYS –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–§–∞–π–ª**: `src/core/redis_store.py`

#### –ó–∞–¥–∞—á–∞ 1.4: ReasoningBank –Ω–∞ —É–∑–ª–∞—Ö Neo4j

**–ù–ï –ø–∞—Ä—Å–∏–º JSON –∏–∑ natural language!**

–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–∑–ª—ã Strategy –≤ Neo4j.

**–§–∞–π–ª**: `src/core/reasoning.py`

---

### –§–ê–ó–ê 2: FASTAPI BACKEND (2-3 –¥–Ω—è)

#### –ó–∞–¥–∞—á–∞ 2.1: FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–§–∞–π–ª**: `backend/main.py`

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π event loop ‚Äî –≤—Å–µ async –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–¥–µ—Å—å.

#### –ó–∞–¥–∞—á–∞ 2.2: CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–§–∞–π–ª**: `cli/main.py`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç Rich –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞, Typer –¥–ª—è –∫–æ–º–∞–Ω–¥.

---

### –§–ê–ó–ê 3: DOCKER –ò –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê (1-2 –¥–Ω—è)

#### –ó–∞–¥–∞—á–∞ 3.1: Docker Compose

**–§–∞–π–ª**: `docker/docker-compose.yml`

#### –ó–∞–¥–∞—á–∞ 3.2: Dockerfile

**–§–∞–π–ª**: `docker/Dockerfile.backend`

---

### –§–ê–ó–ê 4: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –ó–ê–ü–£–°–ö (1-2 –¥–Ω—è)

#### –ó–∞–¥–∞—á–∞ 4.1: –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

**–§–∞–π–ª**: `tests/test_health.py`

#### –ó–∞–¥–∞—á–∞ 4.2: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

**–§–∞–π–ª**: `README.md`

---

## ‚è±Ô∏è –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏

1. **–î–µ–Ω—å 1**: –§–∞–∑–∞ 0 (–∞—É–¥–∏—Ç, —É–¥–∞–ª–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞)
2. **–î–Ω–∏ 2-4**: –§–∞–∑–∞ 1 (–Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –≤—Å–µ core –º–æ–¥—É–ª–∏)
3. **–î–Ω–∏ 5-6**: –§–∞–∑–∞ 2 (FastAPI + CLI)
4. **–î–µ–Ω—å 7**: –§–∞–∑–∞ 3 (Docker, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
5. **–î–µ–Ω—å 8**: –§–∞–∑–∞ 4 (—Ç–µ—Å—Ç—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –∑–∞–ø—É—Å–∫)

**–ò—Ç–æ–≥–æ: ~8 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–π –≤–µ—Ä—Å–∏–∏ v2.0**

---

## üìù –ß–µ–∫–ª–∏—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è –º—É—Å–æ—Ä–∞

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã ‚Äî —É–¥–∞–ª–∏—Ç—å:

```bash
# Streamlit
rm -rf src/ui/
rm -rf streamlit_app/

# –°—Ç–∞—Ä—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã (–ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è)
rm src/core/graphiti_adapter.py  # –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ graphiti_store.py
rm src/core/async_runner.py      # –Ω–µ –Ω—É–∂–µ–Ω —Å FastAPI

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –µ—Å–ª–∏ —É—Å—Ç–∞—Ä–µ–ª–∏:
# - docs/*.md (–æ–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å)
# - —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
# - –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã

# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ pyproject.toml:
# - streamlit
# - nest_asyncio
# - –ª—é–±—ã–µ UI-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [PROGRESS.md](PROGRESS.md) ‚Äî —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- [DECISIONS.md](DECISIONS.md) ‚Äî —Ä–µ—à–µ–Ω–∏—è –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ
- [docs/01_ARCHITECTURE.md](docs/01_ARCHITECTURE.md) ‚Äî –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] CLI —Ä–∞–±–æ—Ç–∞–µ—Ç (`fractal chat`)
- [ ] FastAPI health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç
- [ ] –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è L0‚ÜíL1‚ÜíL2 —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Graphiti —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ event loop
- [ ] Docker compose –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

---

## üîß Technical Debt & Security Backlog

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 1. CORS Configuration
**–ü—Ä–æ–±–ª–µ–º–∞**: CORS –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
```python
# backend/main.py
allow_origins=["*"],  # ‚ùå –õ—é–±–æ–π –¥–æ–º–µ–Ω –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
```

**–†–µ—à–µ–Ω–∏–µ**:
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CORS –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
- –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö origins
- –î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ

---

#### 2. Input Validation
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```python
# backend/routers/chat.py
async def chat(request: ChatRequest):
    response = await agent.chat(request.message)  # ‚ùå –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª–∏–Ω—ã, —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
```

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π (max 10000 —Å–∏–º–≤–æ–ª–æ–≤)
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML/—Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤
- Rate limiting –Ω–∞ —É—Ä–æ–≤–Ω–µ API (—É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ

---

#### 3. Password Security
**–ü—Ä–æ–±–ª–µ–º–∞**: –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –≤ docker-compose.yml
```yaml
- NEO4J_PASSWORD=${NEO4J_PASSWORD:-changeme}  # ‚ùå –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å!
```

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±—Ä–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –¢—Ä–µ–±–æ–≤–∞—Ç—å —è–≤–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞—Ä–æ–ª–µ–π
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ

---

### üü° –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 4. Rate Limiting –Ω–∞ API
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–æ–∂–Ω–æ –∑–∞—Å–ø–∞–º–∏—Ç—å `/chat` –∏ –≤—ã–∂–µ—á—å OpenAI –±—é–¥–∂–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–∏—Ç—å rate limiting middleware –≤ FastAPI
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `RateLimiter` –∏–∑ `src/infrastructure/rate_limiter.py`
- –õ–∏–º–∏—Ç—ã: 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –¥–ª—è `/chat`, 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–∞–∂–Ω–æ

---

#### 5. Graceful Degradation
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å –∫–æ–≥–¥–∞ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ—à–µ–Ω–∏–µ**:
```python
class GracefulDegradation:
    def __init__(self, memory: FractalMemory):
        self.memory = memory
        self.llm_available = True
        self.neo4j_available = True
    
    async def recall_with_fallback(self, query: str):
        if self.neo4j_available:
            return await self.memory.recall(query)
        else:
            # –¢–æ–ª—å–∫–æ L0/L1
            return await self.memory.recall(query, levels=[0, 1])
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–∞–∂–Ω–æ

---

#### 6. Memory Leaks Prevention
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö—ç—à–∏ –º–æ–≥—É—Ç —Ä–∞—Å—Ç–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
```python
# src/core/memory.py
self.l0_cache: List[MemoryItem] = []  # ‚ùå –†–∞—Å—Ç—ë—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
self.l1_cache: Dict[str, MemoryItem] = {}  # ‚ùå –†–∞—Å—Ç—ë—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
```

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–∏—Ç—å –∂—ë—Å—Ç–∫–∏–µ –ª–∏–º–∏—Ç—ã –Ω–∞ —Ä–∞–∑–º–µ—Ä –∫—ç—à–µ–π
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–∞ –∫—ç—à–µ–π —á–µ—Ä–µ–∑ Prometheus

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–∞–∂–Ω–æ

---

#### 7. Audit Logging
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç audit logging –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π –∞–≥–µ–Ω—Ç–∞

**–†–µ—à–µ–Ω–∏–µ**:
```python
import structlog

logger = structlog.get_logger()

async def remember(self, content: str, ...):
    logger.info(
        "memory.remember",
        content_length=len(content),
        importance=importance,
        level="L0",
        user_id=self.user_id
    )
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –í–∞–∂–Ω–æ

---

### üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 8. Grafana Dashboards
**–ü—Ä–æ–±–ª–µ–º–∞**: Prometheus –º–µ—Ç—Ä–∏–∫–∏ –µ—Å—Ç—å, –Ω–æ –Ω–µ—Ç –≥–æ—Ç–æ–≤—ã—Ö dashboards

**–†–µ—à–µ–Ω–∏–µ**:
- –°–æ–∑–¥–∞—Ç—å JSON —Ñ–∞–π–ª—ã –¥–ª—è Grafana dashboards:
  - Memory overview (L0/L1/L2/L3 sizes)
  - Latency (P50, P95, P99)
  - Error rates
  - LLM usage

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

---

#### 9. Deployment Documentation
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ production deployment

**–†–µ—à–µ–Ω–∏–µ**:
- –°–æ–∑–¥–∞—Ç—å `docs/09_DEPLOYMENT.md`:
  - Docker compose –¥–ª—è production
  - Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ reverse proxy (Nginx/Traefik)
  - SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
  - Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è Neo4j

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

---

#### 10. Benchmarks
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç benchmarks –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ**:
- –°–æ–∑–¥–∞—Ç—å `benchmarks/`:
  - Latency –¥–ª—è remember/recall
  - Throughput (requests per second)
  - Memory usage
  - Token usage vs baseline

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

---

## üìä –°–≤–æ–¥–∫–∞ Technical Debt

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö—Ä–∏—Ç–∏—á–Ω—ã–µ | –í–∞–∂–Ω—ã–µ | –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ |
|-----------|-----------|--------|-------------|
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 3 | 1 | 0 |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 0 | 2 | 1 |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | 0 | 1 | 1 |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 0 | 0 | 1 |
| **–ò—Ç–æ–≥–æ** | **3** | **4** | **3** |

---

**–°—Ç–∞—Ç—É—Å**: üìã –ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

