# üéØ Decision Log - Fractal Memory System

–ñ—É—Ä–Ω–∞–ª –≤–∞–∂–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞.

**–í–µ—Ä—Å–∏—è**: 6.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-12-05

---

## üìã –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –ø—Ä–∏–Ω—è—Ç—ã–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç:
- **–î–∞—Ç—É** –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç** ‚Äî –ø–æ—á–µ–º—É —Ä–µ—à–µ–Ω–∏–µ –±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
- **–†–µ—à–µ–Ω–∏–µ** ‚Äî —á—Ç–æ –±—ã–ª–æ –≤—ã–±—Ä–∞–Ω–æ
- **–ü—Ä–∏—á–∏–Ω—ã** ‚Äî –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã** ‚Äî —á—Ç–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–æ—Å—å, –Ω–æ –±—ã–ª–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
- **–°—Ç–∞—Ç—É—Å** ‚Äî –ø—Ä–∏–Ω—è—Ç–æ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ/–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ

---

## 2025-12-01: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∑–∞—â–∏—Ç—ã –≥—Ä–∞—Ñ–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: 
–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:
1. `execute_cypher()` —Å–æ–∑–¥–∞–≤–∞–ª –Ω–æ–≤—ã–π Neo4j driver –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ event loop
2. L2/L3 —ç–ø–∏–∑–æ–¥—ã –Ω–µ —Å—Ç–∞—Ä–µ–ª–∏ (decay –Ω–µ —Ä–∞–±–æ—Ç–∞–ª) ‚Üí –≥—Ä–∞—Ñ —Ä–æ—Å –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ
3. ReasoningBank —Ç–µ—Ä—è–ª —Ä–µ–¥–∫–∏–µ task_types –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –±—É—Ñ–µ—Ä–∞
4. Health check Redis –ø–∞–¥–∞–ª —Å TypeError –¥–ª—è sync –∫–ª–∏–µ–Ω—Ç–æ–≤
5. –ü–æ–∏—Å–∫ —ç–ø–∏–∑–æ–¥–æ–≤ –ø–æ ID –Ω–µ —Ä–∞–±–æ—Ç–∞–ª ‚Üí 3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞ –ø–∞–¥–∞–ª–∏

**–†–µ—à–µ–Ω–∏–µ**: 
–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏–∑ 5 –∑–∞–¥–∞—á:
1. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π Neo4j driver –≤ `GraphitiAdapter`
2. `last_accessed` –¥–ª—è —ç–ø–∏–∑–æ–¥–æ–≤ (decay —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ –±—É—Ñ–µ—Ä–∞ –≤ ReasoningBank
4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ sync/async –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ health check Redis
5. Retention policies + safe GC + –∑–∞—â–∏—â—ë–Ω–Ω—ã–π hard_delete + –ø–æ—Å—Ç-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ search()

**–ü—Ä–∏—á–∏–Ω—ã**:
- –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã
- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è
- Retention policies –∑–∞—â–∏—â–∞—é—Ç –≥—Ä–∞—Ñ –æ—Ç –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞
- Safe GC —Å dry_run –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –¥–∞–Ω–Ω—ã—Ö

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: 
- –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø–æ –æ–¥–Ω–æ–π (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî —Ä–∏—Å–∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
- –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å retention policies (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –≥—Ä–∞—Ñ –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏ –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [PROGRESS.md](PROGRESS.md) - –°–µ—Å—Å–∏—è 6
- [src/core/graphiti_adapter.py](src/core/graphiti_adapter.py) - RETENTION_POLICIES, safe_garbage_collect()

---

## 2025-12-01: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π GC, metadata –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–≥–∞—Ä–∞–Ω—Ç–∏–∏

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**:  
–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞—É–¥–∏—Ç –ø–æ–∫–∞–∑–∞–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥—ã—Ä—ã:
1. `ep.timestamp` –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è ‚Üí soft delete/retention –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏.
2. Hard delete –≤ `garbage_collect()` —É–¥–∞–ª—è–ª –ª—é–±—ã–µ —É–∑–ª—ã —Å `deleted=true`.
3. `remember()` —Ç–µ—Ä—è–ª `metadata`, –∞ `last_accessed` –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è (Graphiti –≤–æ–∑–≤—Ä–∞—â–∞–ª —Ç–æ–ª—å–∫–æ `episode_uuids`).
4. `execute_cypher()` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª event loop, –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ rate limiting –∏ retry.

**–†–µ—à–µ–Ω–∏–µ**:  
–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞:
- `add_episode()` —Ç–µ–ø–µ—Ä—å –∑–∞–¥–∞—ë—Ç `ep.timestamp` –∏ —Ö—Ä–∞–Ω–∏—Ç `metadata`, `garbage_collect()` –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω –≤ `safe_garbage_collect`.
- `_update_graph_last_accessed()` –∏ `GraphitiAdapter.search()` –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç ID (—Å—Ç—Ä–æ–∫–∏ + —Å–ø–∏—Å–∫–∏ `episode_uuids`).
- `MemoryItem` —Ö—Ä–∞–Ω–∏—Ç `metadata`, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ L2/L3; –∞–≤—Ç–æ-–∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ.
- –î–æ–±–∞–≤–ª–µ–Ω—ã `src/infrastructure/rate_limiter.py` –∏ `src/infrastructure/retry.py`; –≤—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã (Neo4j, health checks) –∏—Å–ø–æ–ª—å–∑—É—é—Ç rate limiting + exponential backoff.
- `execute_cypher()` –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ `asyncio.to_thread`, –∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è soft-deleted –∑–∞–ø–∏—Å–µ–π –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ –¥–µ–ª–∞—Ç—å –ø–æ–ª–Ω—ã–π scan.

**–ü—Ä–∏—á–∏–Ω—ã**:
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ retention –ø–æ–ª–∏—Ç–∏–∫ –∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ soft/hard delete.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (metadata) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∞—É–¥–∏—Ç–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
- –ü—Ä–æ–¥–∞–∫—à–µ–Ω-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è Phase 4 –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—é—Ç rate limiting/retry –¥–ª—è LLM/Neo4j.
- –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π event loop –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ–∏—Å–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é Fast System.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**:
- –û—Å—Ç–∞–≤–∏—Ç—å `garbage_collect()` –∫–∞–∫ –µ—Å—Ç—å (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è —É–¥–∞–ª–µ–Ω–∏–µ —á—É–∂–∏—Ö —É–∑–ª–æ–≤).
- –î–æ–±–∞–≤–∏—Ç—å rate limiting —Ç–æ–ª—å–∫–æ –≤ Graphiti (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –Ω—É–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã).
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ metadata –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É (–æ—Ç–ª–æ–∂–µ–Ω–æ ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ Episode).

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:
- [src/core/memory.py](src/core/memory.py) ‚Äî metadata, auto consolidation, –Ω–æ–≤—ã–π GC.
- [src/core/graphiti_adapter.py](src/core/graphiti_adapter.py) ‚Äî timestamp, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, async Cypher.
- [src/infrastructure/rate_limiter.py](src/infrastructure/rate_limiter.py), [src/infrastructure/retry.py](src/infrastructure/retry.py).
- [PROGRESS.md](PROGRESS.md) ‚Äî Phase 4 —á–µ–∫-–ª–∏—Å—Ç.

---

## 2025-12-01: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –ø–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Graphiti

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: 
–¢–µ—Å—Ç `test_soft_delete_excludes_from_search` –ø–∞–¥–∞–ª, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–∂–∏–¥–∞–ª –ø–æ–ª–Ω–æ–≥–æ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ "XYZ123" –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –ø–æ—Å–ª–µ soft delete —ç–ø–∏–∑–æ–¥–∞. –ù–æ Graphiti –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ñ–∞–∫—Ç—ã (EntityEdge) –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ö—Ä–∞–Ω–∏—Ç –∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ Episode.

**–†–µ—à–µ–Ω–∏–µ**: 
–û—Å–ª–∞–±–∏—Ç—å —Ç–µ—Å—Ç, —á—Ç–æ–±—ã –æ–Ω –ø—Ä–æ–≤–µ—Ä—è–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- Episode –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `deleted=True` –ø–æ—Å–ª–µ `soft_delete()`
- `get_by_id()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `deleted=True`
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π `soft_delete()` –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω
- –î–æ–±–∞–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç `test_search_with_include_deleted_flag` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–ü—Ä–∏—á–∏–Ω—ã**:
- Graphiti –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (Episode) –∏ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è (EntityEdge/Facts)
- –§–∞–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–ø–∏–∑–æ–¥–∞–º–∏
- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ–≤ –ø—Ä–∏ soft delete Episode –Ω–∞—Ä—É—à–∏–ª–æ –±—ã —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞ –∑–Ω–∞–Ω–∏–π
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã, –∞ –Ω–µ –±–∞–≥

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: 
- –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ–≤ –ø—Ä–∏ soft delete Episode (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî —Å–ª–æ–º–∞–µ—Ç –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π)
- Skip —Ç–µ—Å—Ç —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –ª—É—á—à–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [tests/test_integration.py](tests/test_integration.py) - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [PROGRESS.md](PROGRESS.md) - –°–µ—Å—Å–∏—è 6

---

## 2025-12-03: –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è L0/L1 –≤ Redis –∏ —á–∏—Å—Ç—ã–π L2

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**:  
–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ L0/L1 –∂–∏–ª–∏ —Ç–æ–ª—å–∫–æ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞. –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
- —Ç–µ—Ä—è–ª—Å—è —Ä–∞–±–æ—á–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Å–µ—Å—Å–∏–æ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å,
- –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –ø–æ–¥–Ω–∏–º–∞—Ç—å –≤—Å—ë –≤–∞–∂–Ω–æ–µ –≤ L2,
- L2 —Ä–∞–∑–¥—É–≤–∞–ª—Å—è –¥—É–±–ª—è–º–∏ —Å—ã—Ä—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤.

**–†–µ—à–µ–Ω–∏–µ**:  
–†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —É—Ä–æ–≤–Ω–µ–π –ø–∞–º—è—Ç–∏ –∏ —Å–¥–µ–ª–∞—Ç—å L0/L1 –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏ –≤ Redis:
- L0/L1:
  - –•—Ä–∞–Ω—è—Ç—Å—è –≤ Redis (`RedisMemoryStore`, –∫–ª—é—á–∏ `fractal:user:{user_id}:l0` –∏ `fractal:user:{user_id}:l1:{session_id}`),
  - –°–æ–¥–µ—Ä–∂–∞—Ç —Ä–∞–±–æ—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏,
  - –ü–µ—Ä–µ–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
- L2/L3:
  - –•—Ä–∞–Ω—è—Ç—Å—è –≤ Neo4j,
  - –°–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ, –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã (–∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è),
  - –°–≤—è–∑–∞–Ω—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ `user_id`.

**–ü—Ä–∏—á–∏–Ω—ã**:
- –ù–µ –Ω—É–∂–Ω–æ —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–Ω–Ω–∏–π –ø–æ–¥—ä—ë–º –≤ L2 ‚Äî —Ä–∞–±–æ—á–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç.
- L2 –æ—Å—Ç–∞—ë—Ç—Å—è ¬´—á–∏—Å—Ç—ã–º¬ª —Å–ª–æ–µ–º —Ñ–∞–∫—Ç–æ–≤ –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ —à—É–º–∞.
- –ü—Ä–æ—â–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å: Redis –¥–ª—è –≥–æ—Ä—è—á–∏—Ö –¥–∞–Ω–Ω—ã—Ö, Neo4j –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**:
- –î–µ—Ä–∂–∞—Ç—å L0/L1 —Ç–æ–ª—å–∫–æ –≤ RAM (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –ø–æ—Ç–µ—Ä—è –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ).
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –¥–∏–∞–ª–æ–≥–∏ —Å—Ä–∞–∑—É –≤ L2 (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –±—ã—Å—Ç—Ä—ã–π —Ä–æ—Å—Ç –≥—Ä–∞—Ñ–∞ –∏ –¥—É–±–ª–∏).

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:
- [PROGRESS.md](PROGRESS.md) ‚Äî –°–µ—Å—Å–∏—è 7
- `src/core/redis_memory.py`, `src/core/memory.py`
- `src/agent.py`, `streamlit_app/config.py`, `docker-compose.yml`

---

## 2025-12-03: –ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–≥–µ–Ω—Ç–∞ + —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**:  
–†–∞–Ω–µ–µ –∞–≥–µ–Ω—Ç –Ω–µ –∏–º–µ–ª —É—Å—Ç–æ–π—á–∏–≤–æ–π –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ –∏ –Ω–µ –∑–Ω–∞–ª, –∫—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
- —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –±—ã–ª —Å—Ç–∞—Ç–∏—á–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º,
- –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω–æ,
- –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±—ã–ª–æ —Å–ª–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ¬´–∫—Ç–æ –µ—Å—Ç—å –∫—Ç–æ¬ª.

**–†–µ—à–µ–Ω–∏–µ**:  
–í–≤–µ—Å—Ç–∏ —è–≤–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
- `FractalAgent` –ø–æ–ª—É—á–∞–µ—Ç `user_id`, `user_name`, `agent_name` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏/ENV,
- –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–∫—Ç—ã –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:
  - –∏–∑ Redis (L0/L1) —á–µ—Ä–µ–∑ `redis_store.search_l0_l1`,
  - –∏–∑ Neo4j (L2) —á–µ—Ä–µ–∑ `execute_cypher` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ `user_id` –∏ `importance_score >= 0.8`,
- —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (`_build_system_prompt()`), –≤–∫–ª—é—á–∞–µ—Ç:
  - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–≥–µ–Ω—Ç–∞,
  - –¥–æ 5 –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ,
  - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ ¬´–æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –∏–º–µ–Ω–∏¬ª, ¬´–ø–æ–º–Ω–∏—Ç—å —Å–≤–æ—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å¬ª, ¬´–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å¬ª.

**–ü—Ä–∏—á–∏–Ω—ã**:
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤.
- –ü—Ä–æ—Å—Ç–∞—è —Å–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ ENV –±–µ–∑ –ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –±—É–¥—É—â–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**:
- –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å –∏–º–µ–Ω–∞ –≤ –ø—Ä–æ–º–ø—Ç–µ (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è).
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `user_id` –∏ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî —Å–ª–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å).

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:
- [PROGRESS.md](PROGRESS.md) ‚Äî –°–µ—Å—Å–∏—è 7
- `src/agent.py`, `streamlit_app/config.py`, `docker-compose.yml`

---

## 2025-12-03: –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–∞–∫–µ—Ç–∞ src

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**:  
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `pytest` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞–ª–∏ —Å `ModuleNotFoundError: No module named 'src'`.  
–ü—Ä–∏—á–∏–Ω–∞: –ø–∞–∫–µ—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ Poetry/pip, –∞ Pytest –∑–∞–ø—É—Å–∫–∞–ª—Å—è –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ `PYTHONPATH`.

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–∏—Ç—å `tests/conftest.py`, –∫–æ—Ç–æ—Ä—ã–π:
  - –≤—ã—á–∏—Å–ª—è–µ—Ç –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `tests/`,
  - –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ `sys.path` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Å—Å–∏–∏ Pytest.
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ `pytest` –∏–∑ –∫–æ—Ä–Ω—è `fractal_memory`.

**–ü—Ä–∏—á–∏–Ω—ã**:
- –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–∞–∫ –∏ –≤ CI, –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞.
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ `ModuleNotFoundError` –ø—Ä—è—Ç–∞–ª–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ (Neo4j, event loop).

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**:
- –í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–∞–∫–µ—Ç —á–µ—Ä–µ–∑ `pip install -e .` (–≤–æ–∑–º–æ–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è CI, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —à–∞–≥–∞).
- –ü—Ä–æ–ø–∏—Å–∞—Ç—å `PYTHONPATH=.` –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö (–º–µ–Ω–µ–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±–æ–ª–æ—á–∫–∏).

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:
- [PROGRESS.md](PROGRESS.md) ‚Äî –°–µ—Å—Å–∏—è 7
- `tests/conftest.py`


---

## 2025-01-27: –°–æ–∑–¥–∞–Ω–∏–µ IMPROVEMENTS.md —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: 
–ü—Ä–∏ –≥–ª—É–±–æ–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã—è–≤–ª–µ–Ω—ã –∑–∞–º–µ—á–∞–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–†–µ—à–µ–Ω–∏–µ**: 
–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
1. –°–æ–∑–¥–∞—Ç—å `IMPROVEMENTS.md` ‚Äî –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—á–∞–Ω–∏–π —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
2. –û–±–Ω–æ–≤–∏—Ç—å `PROGRESS.md` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É–Ω–∫—Ç—ã –≤ —á–µ–∫-–ª–∏—Å—Ç—ã —Ñ–∞–∑
3. –ù–µ –º–µ–Ω—è—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/`

**–ü—Ä–∏—á–∏–Ω—ã**:
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–º–µ—á–∞–Ω–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É–Ω–∫—Ç—ã –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É –≤ PROGRESS.md
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π
- –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å —É–ª—É—á—à–µ–Ω–∏–π

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: 
- –ò–∑–º–µ–Ω–∏—Ç—å docs/ –Ω–∞–ø—Ä—è–º—É—é (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –Ω–∞—Ä—É—à–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É)
- –¢–æ–ª—å–∫–æ IMPROVEMENTS.md –±–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ PROGRESS.md (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–æ–µ)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [IMPROVEMENTS.md](IMPROVEMENTS.md)
- [PROGRESS.md](PROGRESS.md)

---

## 2025-01-27: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: 
AI –∞–≥–µ–Ω—Ç –Ω–µ –ø–æ–º–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–µ—Å—Å–∏–∏ –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ù—É–∂–µ–Ω —Å–ø–æ—Å–æ–± –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: 
–°–æ–∑–¥–∞—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞:
- `PROGRESS.md` ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ —Ñ–∞–∑–∞–º
- `DECISIONS.md` ‚Äî –∂—É—Ä–Ω–∞–ª –≤–∞–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

**–ü—Ä–∏—á–∏–Ω—ã**:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (markdown —Ñ–∞–π–ª—ã)
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∏–ª—é —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: 
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–∏–ø–∞ Jira (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –Ω—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
- –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–æ–±—â–µ (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI –∞–≥–µ–Ω—Ç–æ–º)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [PROGRESS.md](PROGRESS.md)
- [README.md](README.md)

---

## 2025-01-27: –ù–∞—á–∞–ª–æ —Å Phase 1 –≤–º–µ—Å—Ç–æ Phase 2

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: 
–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ—Å—å –Ω–∞—á–∞—Ç—å —Å Phase 2 (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏), –Ω–æ –ø–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–∞–ª–æ —è—Å–Ω–æ, —á—Ç–æ Phase 1 (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã) —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–æ–º.

**–†–µ—à–µ–Ω–∏–µ**: 
–°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å Phase 1 –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ Phase 2.

**–ü—Ä–∏—á–∏–Ω—ã**:
- Phase 1 —Å–æ–∑–¥–∞–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (Neo4j, Redis), –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–¥ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
- –ò–Ω–¥–µ–∫—Å—ã Neo4j –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ 2-4 –Ω–µ–¥–µ–ª–∏ –±–µ–∑ –Ω–∏—Ö)
- –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç —Å—Ö–µ–º—É –ë–î, –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–¥ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- Smoke test –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: 
- –ù–∞—á–∞—Ç—å —Å Phase 2 –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ —Ö–æ–¥—É (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –∫–æ–¥ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è)
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å Phase 1 –∏ Phase 2 (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –Ω—É–∂–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [docs/02_PHASE1_SETUP.md](docs/02_PHASE1_SETUP.md)
- [docs/03_PHASE2_MEMORY.md](docs/03_PHASE2_MEMORY.md)
- [PROGRESS.md](PROGRESS.md)

---

## 2025-12-03: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ v2.0 –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: 
–ü–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ (20 –ª–µ—Ç –æ–ø—ã—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏) –≤—ã—è–≤–ª–µ–Ω—ã —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. Streamlit + asyncio = –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã event loop
2. –ü—Ä—è–º–æ–π Cypher –¥–ª—è –∑–∞–ø–∏—Å–∏ —ç–ø–∏–∑–æ–¥–æ–≤ –æ–±—Ö–æ–¥–∏—Ç Graphiti ‚Üí Graphiti –Ω–µ –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ
3. Redis LIST + KEYS –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
4. ReasoningBank –ø–∞—Ä—Å–∏—Ç JSON –∏–∑ natural language ‚Üí –Ω–µ–Ω–∞–¥—ë–∂–Ω–æ
5. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ event loops ‚Üí "Future attached to different loop"

**–†–µ—à–µ–Ω–∏–µ**: 
–ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
1. **Graphiti –æ—Å—Ç–∞—ë—Ç—Å—è** ‚Äî –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è L2/L3)
2. **Streamlit —É–¥–∞–ª—è–µ—Ç—Å—è** ‚Äî –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ FastAPI + CLI
3. **Redis Streams** ‚Äî –≤–º–µ—Å—Ç–æ LIST + KEYS, SCAN –≤–º–µ—Å—Ç–æ KEYS
4. **ReasoningBank –Ω–∞ —É–∑–ª–∞—Ö Neo4j** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–∑–ª—ã Strategy, –Ω–µ –ø–∞—Ä—Å–∏–Ω–≥ JSON
5. **gpt-5-nano** ‚Äî –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
6. **–û–¥–∏–Ω event loop** ‚Äî FastAPI —Ä–µ—à–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã async

**–ü—Ä–∏—á–∏–Ω—ã**:
- Streamlit + asyncio = –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–≤–∏–¥–µ–ª –¥–µ—Å—è—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å nest_asyncio)
- Graphiti –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ ‚Äî –∏–Ω–∞—á–µ —Ç–µ—Ä—è—é—Ç—Å—è embeddings, entity extraction, –∏–Ω–¥–µ–∫—Å—ã
- Redis Streams –¥–∞—é—Ç MAXLEN –∏–∑ –∫–æ—Ä–æ–±–∫–∏ + consumer groups –¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–∑–ª—ã Strategy –Ω–∞–¥—ë–∂–Ω–µ–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –∏–∑ —Ç–µ–∫—Å—Ç–∞
- –û–¥–∏–Ω event loop –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å ‚Äî –∂–µ–ª–µ–∑–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ asyncio

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: 
- –û—Å—Ç–∞–≤–∏—Ç—å Streamlit –∏ –±–æ—Ä–æ—Ç—å—Å—è —Å event loop (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî —á–∞—Å—ã –¥–µ–±–∞–≥–∞)
- –û—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç Graphiti –∏ —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–π —Å–ª–æ–π (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî 2-3 –º–µ—Å—è—Ü–∞ —Ä–∞–±–æ—Ç—ã)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Kafka/Pulsar –¥–ª—è Event Bus (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –æ–≤–µ—Ä–∫–∏–ª–ª –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –î–æ–±–∞–≤–∏—Ç—å Milvus/pgvector –æ—Ç–¥–µ–ª—å–Ω–æ (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî Neo4j 5.x —É–∂–µ –∏–º–µ–µ—Ç vector index)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [REFACTORING_PLAN.md](REFACTORING_PLAN.md) ‚Äî –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- [PROGRESS.md](PROGRESS.md) ‚Äî –°–µ—Å—Å–∏—è 8

---

## 2025-12-04: –ú–µ—Ç—Ä–∏–∫–∏, rate limiting –∏ –æ—Ç–∫–∞–∑ –æ—Ç legacy-—Ç–µ—Å—Ç–æ–≤

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**:  
–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –æ—Å—Ç–∞–ª–∏—Å—å —Ñ–∞–π–ª—ã –∏ —Ç–µ—Å—Ç—ã, –∑–∞—Ç–æ—á–µ–Ω–Ω—ã–µ –ø–æ–¥ —Å—Ç–∞—Ä—ã–µ `GraphitiAdapter`/`learning.py`. –û–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –∏ –º–µ—à–∞–ª–∏ –∑–∞–¥–∞—á–∞–º –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ LLM-–≤—ã–∑–æ–≤—ã —à–ª–∏ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (`metrics.py`, `rate_limiter.py`), –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –µ—â—ë –≤ Phase 4 –ø–ª–∞–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å legacy-—Ç–µ—Å—Ç—ã (`tests/test_memory.py`, `tests/test_learning.py`, `tests/test_integration.py`) –∏ –∑–∞–º–µ–Ω–∏—Ç—å –∏—Ö –Ω–æ–≤—ã–º–∏ unit/e2e –Ω–∞–±–æ—Ä–∞–º–∏ (`tests/test_api.py`, `tests/test_memory_unit.py`, `tests/test_graphiti_store_unit.py`).
2. –í `FractalAgent` –ø–æ–¥–∫–ª—é—á–∏—Ç—å Prometheus-–º–µ—Ç—Ä–∏–∫–∏ (—Ç–æ–∫–µ–Ω—ã, –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞, —Ä–∞–∑–º–µ—Ä—ã L0/L1) –∏ rate limiting –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ LLM.
3. –í `ReasoningBank.record_outcome()` –æ–±–Ω–æ–≤–ª—è—Ç—å `strategy_success_rate`, –∞ `GraphitiStore.connect()` –±–æ–ª—å—à–µ –Ω–µ —Å—Ç—Ä–æ–∏—Ç –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ (–∏—Ö —Å–æ–∑–¥–∞—é—Ç –º–∏–≥—Ä–∞—Ü–∏–∏).
4. `Settings` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `llm_requests_per_minute`.

**–ü—Ä–∏—á–∏–Ω—ã**:
- –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Ç—Ä–∞–∂–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
- –ù—É–∂–µ–Ω –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π LLM pipeline (–º–µ—Ç—Ä–∏–∫–∏ + rate limiting) –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ `connect()` —Ç–æ—Ä–º–æ–∑–∏–ª–æ –∑–∞–ø—É—Å–∫ –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª–æ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**:
- –ü–æ–º–µ—á–∞—Ç—å legacy-—Ç–µ—Å—Ç—ã `skip` (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –∑–∞—Ö–ª–∞–º–ª—è—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π).
- –û—Å—Ç–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ ¬´–Ω–∞ –ø–æ—Ç–æ–º¬ª (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî —É–∂–µ —Ç—Ä–µ—Ç–∏–π —ç—Ç–∞–ø –ø–ª–∞–Ω–∞, –Ω—É–∂–Ω–æ –∑–∞–º–µ—Ä—è—Ç—å —Å–µ–π—á–∞—Å).

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:
- [PROGRESS.md](PROGRESS.md) ‚Äî –°–µ—Å—Å–∏—è 11
- `src/agent.py`, `src/core/reasoning.py`, `src/core/graphiti_store.py`
- `tests/test_api.py`, `tests/test_memory_unit.py`, `tests/test_graphiti_store_unit.py`

---

## 2025-12-08: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è v2.1 (Smart Consolidation)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**:  
–ì—Ä–∞—Ñ –∑–∞—Å–æ—Ä—è–ª—Å—è —Å—ã—Ä—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –±—ã–ª–∏ –≥–æ–Ω–∫–∏ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª `scale` –≤ —ç–ø–∏–∑–æ–¥–∞—Ö, –æ–ø—ã—Ç –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞–ª—Å—è –∫ —ç–ø–∏–∑–æ–¥–∞–º, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∫–∞—Å–∫–∞–¥ —Ä–∞–±–æ—Ç–∞–ª –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ**:  
1) –ë–∞—Ç—á 15 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ L0 ‚Üí LLM summary (GPT-5 Nano) ‚Üí 1 —ç–ø–∏–∑–æ–¥ L2 —Å `scale="meso"`.  
2) –õ–æ–∫ –Ω–∞ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—é + –ø—Ä–æ–≤–µ—Ä–∫–∞ `l0_get_unconsolidated`, —Ñ–ª–∞–≥ `auto_consolidate_l0` (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º –≤ —Ç–µ—Å—Ç–∞—Ö).  
3) –ü—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `scale` –≤ Episodic —á–µ—Ä–µ–∑ Cypher –ø–æ—Å–ª–µ `add_episode`.  
4) Reasoning: `APPLIED_IN` –∫ Episodic –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ episode_id; snapshot –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –µ—Å–ª–∏ –Ω–µ—Ç episode_id; Judge (negative‚ÜíFAIL, positive‚ÜíSUCCESS, –∏–Ω–∞—á–µ UNKNOWN).  
5) –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∫–∞—Å–∫–∞–¥: L0 raw + L1 summaries + L2 Graphiti —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –ª–∏–º–∏—Ç–æ–º.  
6) –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã v2.1: `tests/integration/test_memory_v2_pipeline.py` (golden flow 15‚Üí1, race lock, context cascade) ‚Äî –∑–µ–ª—ë–Ω—ã–µ.

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:  
- [PROGRESS.md](PROGRESS.md) ‚Äî –°–µ—Å—Å–∏—è 14  
- `src/core/memory.py`, `src/core/graphiti_store.py`, `src/agent.py`  
- `tests/integration/test_memory_v2_pipeline.py`

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞)

–≠—Ç–∏ —Ä–µ—à–µ–Ω–∏—è –±—ã–ª–∏ –ø—Ä–∏–Ω—è—Ç—ã –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ.

---

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Graphiti –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–π —Ä–∞–±–æ—Ç—ã —Å Neo4j

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Graphiti –∫–∞–∫ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –Ω–∞–¥ Neo4j

**–ü—Ä–∏—á–∏–Ω—ã** (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –≥—Ä–∞—Ñ–æ–º
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
- –ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [docs/01_ARCHITECTURE.md](docs/01_ARCHITECTURE.md)
- [docs/03_PHASE2_MEMORY.md](docs/03_PHASE2_MEMORY.md)

---

### –§—Ä–∞–∫—Ç–∞–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –ø–∞–º—è—Ç–∏ (L0-L3)

**–†–µ—à–µ–Ω–∏–µ**: –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å –≤ 4 —É—Ä–æ–≤–Ω—è:
- L0: Working Memory (Python list, —Å–µ–∫—É–Ω–¥—ã)
- L1: Short-Term Memory (Python dict, –º–∏–Ω—É—Ç—ã-—á–∞—Å—ã)
- L2: Medium-Term Memory (Graph, –¥–Ω–∏)
- L3: Long-Term Memory (Graph, –º–µ—Å—è—Ü—ã-–≥–æ–¥—ã)

**–ü—Ä–∏—á–∏–Ω—ã** (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—é
- –°–Ω–∏–∂–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ 90%+

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [docs/01_ARCHITECTURE.md](docs/01_ARCHITECTURE.md)
- [docs/03_PHASE2_MEMORY.md](docs/03_PHASE2_MEMORY.md)

---

### Soft Delete –≤–º–µ—Å—Ç–æ Hard Delete

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å soft delete –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª–µ `deleted: boolean`, `deleted_at: timestamp`)

**–ü—Ä–∏—á–∏–Ω—ã** (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ê—É–¥–∏—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [docs/01_ARCHITECTURE.md](docs/01_ARCHITECTURE.md)
- [migrations/002_add_soft_delete.cypher](migrations/002_add_soft_delete.cypher)

---

### Dual-Process Architecture (Fast/Slow System)

**–†–µ—à–µ–Ω–∏–µ**: –†–∞–∑–¥–µ–ª–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ –¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞:
- **Fast System**: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞ (retrieval, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞)
- **Slow System**: –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –≤ —Ñ–æ–Ω–µ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è, –æ–±—É—á–µ–Ω–∏–µ)

**–ü—Ä–∏—á–∏–Ω—ã** (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
- Fast System –Ω–µ –∂–¥—ë—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî –æ—Ç–≤–µ—Ç –±—ã—Å—Ç—Ä—ã–π
- Slow System –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ –µ—Å—Ç—å –≤—Ä–µ–º—è
- Resilience: –µ—Å–ª–∏ Slow –ø–∞–¥–∞–µ—Ç, Fast –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [docs/01_ARCHITECTURE.md](docs/01_ARCHITECTURE.md)

---

## 2025-12-04: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è React Frontend

**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: 
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Phase 4 (Production) —Å–∏—Å—Ç–µ–º–∞ –∏–º–µ–ª–∞ —Ç–æ–ª—å–∫–æ FastAPI backend –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è:
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∞–≥–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ —á–∞—Ç
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏ (–≥—Ä–∞—Ñ —É–∑–ª–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–µ–π –ø–∞–º—è—Ç–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: 
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`fractal-memory-interface/`) —Å TypeScript:
1. **Frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
   - React + TypeScript + Vite
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: Chat, Memory (Stats, Browser, Graph), Layout
   - API –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å FastAPI backend
2. **Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
   - Multi-stage build (Node 20 ‚Üí Nginx Alpine)
   - –°–µ—Ä–≤–∏—Å `frontend` –≤ `docker-compose.yml` (–ø–æ—Ä—Ç 3000:80)
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `backend` (health check)
3. **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**:
   - `GET /memory/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏ (l0_count, l1_count, l2_count, l3_count)
   - `GET /memory/{level}` - –ø–æ–ª—É—á–µ–Ω–∏–µ —É–∑–ª–æ–≤ –ø–∞–º—è—Ç–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (MemoryNode[])
   - `POST /memory/consolidate` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è
   - `POST /memory/remember` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ø–∞–º—è—Ç—å
4. **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**:
   - CORSMiddleware –≤ FastAPI –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
5. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ API**:
   - `ChatResponse` —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç `strategies_used` –∏ `processing_time_ms` –≤–º–µ—Å—Ç–æ `importance`
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã TypeScript —Ç–∏–ø—ã –ø–æ–¥ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–ø–∞–¥–∞–ª –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω—ã**:
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
- React + TypeScript –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ö–æ—Ä–æ—à–∏–π DX
- Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–ø—Ä–æ—â–∞–µ—Ç –¥–µ–ø–ª–æ–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
- CORS –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å –±—ç–∫–µ–Ω–¥–æ–º –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö
- –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç API –º–µ–∂–¥—É –±—ç–∫–µ–Ω–¥–æ–º –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: 
- Streamlit (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî —É–∂–µ —É–¥–∞–ª—ë–Ω –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ v2.0, –º–µ–Ω–µ–µ –≥–∏–±–∫–∏–π)
- Vue.js (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî React –±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–µ–Ω, –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤)
- –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Äî —É—Å–ª–æ–∂–Ω—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏ –¥–µ–ø–ª–æ–π)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: 
- [PROGRESS.md](PROGRESS.md) ‚Äî –°–µ—Å—Å–∏—è 12
- [README.md](README.md) ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

---

## –ë—É–¥—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è

–†–µ—à–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –ø–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—É –≤—ã—à–µ.

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [README.md](README.md) ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- [PROGRESS.md](PROGRESS.md) ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [docs/01_ARCHITECTURE.md](docs/01_ARCHITECTURE.md) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
